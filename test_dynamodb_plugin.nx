use dynamodb

print("--- DynamoDB Plugin Test ---")

print("1. Connecting...")
// This options map is passed to the plugin
let options: map[string, any] = {
    "region": "us-east-1"
}

let client: dynamodb.Client = dynamodb.connect(options)

print("Client ID: " + client.id)

if client.id == "error" || client.id == "" then
    print("FAILED: Client creation failed")
end


print("2. Putting Item...")
let item: map[string, any] = {
    "id": "123",
    "name": "Noxy User",
    "active": true
}

let ok: bool = dynamodb.put_item(client, "mynotes_users", item)
if ok then
    print("SUCCESS: Put item successful")
else
    print("FAILED: Put item failed (Expected if no AWS creds)")
end

print("--- Test Finished ---")
