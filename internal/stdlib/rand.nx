use time

struct RandomGenerator
    state: int,
    a: int,
    c: int,
    m: int
end

let rng: RandomGenerator = RandomGenerator(time.now(), 1664525, 1013904223, 2147483647)

func new_random(g: ref RandomGenerator) -> int
    g.state = g.a * g.state + g.c
    g.state = g.state % g.m
    return g.state
end

func random() -> int
    return new_random(ref rng) / rng.m
end

func random_int(min: int, max: int) -> int
    return min + new_random(ref rng) % (max - min + 1)
end
